<!DOCTYPE html>
<html lang="ru" class="js">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <title>База знаний - R2 Online • Rise of Revolution</title>

    <meta name="description"
        content="R2 online Wiki – это полная база знаний по игре R2 Rise. Дроп с монстров, места ресов боссов, описание предметов, эпические задания, перевоплощения, питомцы, классы, мероприятия, особые механики локаций. Здесь есть ответ на любой ваш вопрос.">
    <meta name="keywords"
        content="rise wiki, rise база, р2 вики, r2 base, р2 база, база знаний, r2 online wiki, дроп, гайды, питомцы, дерево, руны">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">

    <link href="./css/wiki.css" rel="stylesheet">
    <link href="./css/core.css" rel="stylesheet">
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">
    <link href="./css/fancybox.min.css" rel="stylesheet">
    <link href="/plugins/slick/slick.css" rel="stylesheet">
    <link href="/plugins/slick/slick-theme.css" rel="stylesheet">
    <link href="/plugins/datatables/dataTables.min.css" rel="stylesheet">
    <link href="./css/responsive.css" rel="stylesheet">

    <link href="./images/favicon/favicon_32x32.png" rel="shortcut icon" type="image/png">
    <link href="/libs/fontawesome-free-6.0.0-web/css/all.min.css" rel="stylesheet">

    <link href="./css/style.css" rel="stylesheet">
    <link href="./css/addition.css" rel="stylesheet">
    <link href="./css/alerts.css" rel="stylesheet">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>
</head>

<body>


    <!-- wrapper -->
    <div class="wrapper wrapper--forum">

        <main class="main">
            <div class="content-area flex-sbs">
                <div class="wiki">
                    <div class="inner-page__title wiki-page__title">
                        <h1 class="inner-page__title-text">База знаний</h1>
                        <div class="inner-page__title-subtext"></div>
                    </div>

                    <!-- Поиск -->
                    <div class="wiki-search">
                        <div class="wiki-search__container">
                            <input type="text" id="wikiSearchInput" class="wiki-search__input" placeholder="Поиск по базе знаний..." autocomplete="off">
                            <button class="wiki-search__btn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="m21 21-4.35-4.35"></path>
                                </svg>
                            </button>
                            <div id="wikiSearchResults" class="wiki-search__results"></div>
                        </div>
                    </div>

                    <div class="wiki__container flex-sbs">
                        <div class="wiki__content" style="width: 100%;padding-left: 50px;padding-right: 50px;">
                            <div class="row border-bottom">
                                <div class="col padding-bottom-10">
                                </div>
                            </div>

                            <div class="row" style="margin-bottom: 60px;padding: 15px;">
                                <div class="col col-1-1 padding-y-10">
                                    <h1>Быстрый доступ к разделам</h1>
                                </div>
                                <div class="col col-1-3">
                                    <div class="text-box">
                                        <h2>Локации и монстры</h2>
                                        <ul>
                                            <li><a href="./colfort/colfort.html">Колфорт</a></li>
                                            <li><a href="./locality/locality.html">Деревни и поселения</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col col-1-3">
                                    <div class="text-box">
                                        <h2>Предметы</h2>
                                        <ul>
                                            <li><a href="./items/ekipirovka.html">Экипировка</a></li>
                                            <li><a href="./items/materialy.html">Материалы</a></li>
                                            <li><a href="./items/knigi.html">Книги</a></li>
                                            <li><a href="./items/runy.html">Руны</a></li>
                                            <li><a href="./items/drugoe.html">Другое</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col col-1-3">
                                    <div class="text-box">
                                        <h2>Гайды</h2>
                                        <ul>
                                            <li><a href="./guids/locations.html">Особенности локаций</a></li>
                                            <li><a href="./guids/boss.html">Боссы</a></li>
                                            <li><a href="./guids/unique-items.html">Уникальные предметы</a></li>
                                            <li><a href="./guids/craft.html">Изготовление</a></li>
                                            <li><a href="./guids/guilds.html">Гильдии</a></li>
                                            <li><a href="./guids/events.html">Мероприятия</a></li>
                                            <li><a href="./guids/trade.html">Торговля</a></li>
                                            <li><a href="./guids/account.html">Аккаунт и безопасность</a></li>
                                            <li><a href="./guids/other.html">Другое</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>



    </div>
    <!-- end wrapper -->

    <script src="/libs/js/addition.js" defer=""></script>
    <script src="/libs/js/MVisionToggleClass.js" defer=""></script>
    <script src="/libs/js/navigation.js" defer=""></script>
    <script src="/libs/js/scripts.js" defer=""></script>
    <script src="/libs/js/tether.min.js"></script>
    <script src="/libs/js/bootstrap.min.js"></script>
    <script src="/libs/js/core.js"></script>
    <script src="/libs/js/fancybox.min.js"></script>
    <script src="/plugins/slick/slick.min.js"></script>
    <script src="/libs/js/locations.js"></script>
    <script src="/libs/plugins/datatables/dataTables.min.js"></script>
    <script src="/libs/plugins/datatables/dataTables.bootstrap.min.js"></script>
    
    <!-- Wiki Search -->
    <script src="./search-index.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const input = document.getElementById('wikiSearchInput');
        const results = document.getElementById('wikiSearchResults');
        
        if (!input || !results) return;

        input.addEventListener('input', function() {
            const query = this.value.toLowerCase().trim();
            
            if (query.length < 2) {
                results.style.display = 'none';
                results.innerHTML = '';
                return;
            }

            const matches = wikiSearchIndex.filter(item => 
                item.title.toLowerCase().includes(query) || 
                item.category.toLowerCase().includes(query)
            ).slice(0, 10);

            if (matches.length === 0) {
                results.innerHTML = '<div class="wiki-search__no-results">Ничего не найдено</div>';
                results.style.display = 'block';
                return;
            }

            results.innerHTML = matches.map(item => `
                <a href="${item.url}" class="wiki-search__result-item">
                    <span class="wiki-search__result-title">${item.title}</span>
                    <span class="wiki-search__result-category">${item.category}</span>
                </a>
            `).join('');
            results.style.display = 'block';
        });

        // Закрыть результаты при клике вне
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.wiki-search')) {
                results.style.display = 'none';
            }
        });

        // Навигация клавишами
        input.addEventListener('keydown', function(e) {
            const items = results.querySelectorAll('.wiki-search__result-item');
            const active = results.querySelector('.wiki-search__result-item.active');
            let index = Array.from(items).indexOf(active);

            if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (active) active.classList.remove('active');
                index = (index + 1) % items.length;
                items[index]?.classList.add('active');
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (active) active.classList.remove('active');
                index = index <= 0 ? items.length - 1 : index - 1;
                items[index]?.classList.add('active');
            } else if (e.key === 'Enter') {
                e.preventDefault();
                if (active) {
                    window.location.href = active.href;
                } else if (items.length > 0) {
                    window.location.href = items[0].href;
                }
            } else if (e.key === 'Escape') {
                results.style.display = 'none';
            }
        });
    });
    </script>
</body>

</html>